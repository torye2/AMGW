<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>공지사항 상세 페이지</title>
<link rel="stylesheet" href="../css/Notice_D.css" />
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" th:href="@{/css/styles.css}" />
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
</head>
<body>
	<div th:replace="~{fragments/header :: siteHeader}"></div>
	<div class="container grid grid-cols-1 md:grid-cols-[240px,1fr] gap-4 sm:gap-6 py-4">
	<div th:replace="~{fragments/sidebar :: siteSidebar}"></div>
		<div class="Compliment_Container">
			<div id="Compliment_top">
				<h1>공지사항</h1>
			</div>
			<div>
				<table>
					<tr>
						<th>제목</th>
						<td th:text="${compliment.compliment_title}"></td>
					</tr>
					<tr>
						<th>작성자</th>
						<td th:text="${compliment.username}"></td>
						<th>작성날짜</th>
						<td th:text="${#dates.format(compliment.registration_time, 'yyyy-MM-dd HH:mm')}"></td>
						<th>조회수</th>
						<td th:text="${compliment.compliment_count}"></td>
					</tr>
				</table>
			</div>
			<div>
				<div th:text="${compliment.compliment_detail}"></div> <!-- 게시글 내용 -->
			</div>
			<div class="compliment-btns">
				<div th:if="${loginUser != null and loginUser.userId == compliment.user_id}">
					<button class="fixBtn" th:href="@{'/Compliment_W?compliment_id=' + ${compliment.compliment_id}}">수정</button>
					<form th:action="@{/Compliment_Delete}" method="post" style="display:inline;">
						<input type="hidden" name="compliment_id" th:value="${compliment.compliment_id}">
						<button id="deletebtn" th:if="${loginUser != null and loginUser.userId == compliment.user_id}">삭제</button>
				 	</form>
			 	</div>
			 	<div th:unless="${loginUser != null and loginUser.userId == compliment.user_id}">
				    <p class="text-gray-500">이 게시글은 작성자만 수정 및 삭제할 수 있습니다.</p>
			    </div>
		 		<button th:href="@{/Compliment_L}" class="ListBtn">목록</button>
			</div>
		</div>
	</div>
</body>
</html>